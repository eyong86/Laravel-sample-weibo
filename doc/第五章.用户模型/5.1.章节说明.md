## MVC 的 M

在前面讲的 MVC 模式中，我们一直没讲到其中的 M - Model（模型），本章我们将构建一个基本的用户模型来实现用户数据的存储，并了解 Laravel 如何对模型对象进行增删改查操作。后面我们还会在此用户模型基础上添加用户注册和登录功能，并对用户身份进行权限认证，让管理员用户可以对用户进行删除操作。接着我们还会构建一套用户账号激活和密码找回系统，只有成功进行邮箱激活的用户才能在网站上进行登录，激活成功后的用户如果出现密码丢失的情况，可以使用已认证的邮箱进行密码找回。

## 用户认证系统

事实上，Laravel 已默认为我们集成了一整套用户登录注册功能，并提供了一些非常方便的 API，让我们可以快速构建自己的用户认证系统。如果完全借助 Laravel 提供的用户认证系统，我们能够在短短几分钟便完成整个登录注册功能的开发，包括用户数据库的整个构建过程。

但这不利于新手的学习，整个功能的具体实现代码被 Laravel 隐藏起来，像一个黑盒一样，你很难去理解这里面整个实现和调用过程。因此，本教程将不会完全借助 Laravel 提供的用户认证系统，而是借助 Laravel 提供的一些简便的 API 来独自开发一个完整的用户认证系统，帮助新手更好的学习用户认证系统的运行机制。但在实际项目的开发中，如果对注册登录功能的定制性不高，还是建议你使用 Laravel 默认提供的用户认证系统来操作。

## Eloquent ORM

在接下来几章要实现的用户注册功能需要用到数据库来进行数据存储，用于放置用户的基本信息。在这期间，还需要用到数据模型- Model，利用 Laravel 提供的 [Eloquent ORM](http://d.laravel-china.org/docs/5.5/eloquent) 跟数据库进行交互，实现用户数据的增删改查操作。Eloquent 提供了简洁优雅的 ActiveRecord 实现来跟数据库进行交互。Active Record 是一种领域模型模式，该模式由 Martin Fowler 在 2003 年出版的《企业应用架构模式》一书中进行了详细叙述并命名。其特点是一个模型类对应关系型数据库中的一个表，模型类的一个实例对应表中的一行记录。Active Record 最大优点是允许我们简单, 直观地操作数据层。

## 准备好舞台

现在让我们照例先来创建一个新分支。

```bash
$ git checkout master
$ git checkout -b modeling-users
```
![file](https://fsdhubcdn.phphub.org/uploads/images/201708/02/1/YhMuumESk1.png)